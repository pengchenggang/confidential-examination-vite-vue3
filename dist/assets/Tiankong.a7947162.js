import{_ as v,u as _,r as c,o as u,c as h,a as m,n as k,f as p,d as a,t as b,g as B,v as F,F as x,b as y,h as $,i as S}from"./index.c74fe3f3.js";const f={name:"InputBm",props:{answer:{type:String,default:""}},components:{},data(){return{isFocus:!1,guaguakaVif:!1,backgroundSizeX:"0px",val1:"",val1Bak:"",val1Bak2:""}},watch:{isFocus(t){t&&(this.$app.inputNextFocus=this.inputNextFocus,this.$app.inputPreviousFocus=this.inputPreviousFocus)},"$app.showOne":function(t){if(this.isFocus){console.info("showOne");const e=this.val1.length;e<this.answer.length?this.val1=this.answer.substr(0,e+1):this.val1=this.answer}},"$app.guaguakaVif":function(t){this.guaguakaVif=t},"$app.clearAnswer":function(t){this.isFocus&&(this.val1!==""?this.val1="":this.inputPreviousFocus())},"$app.showAnswer":function(t){this.isFocus&&(t?(this.val1Bak=this.val1,this.val1=this.answer):this.val1=this.val1Bak)},"$app.showAnswerAll":function(t){t?(this.val1Bak2=this.val1,this.val1=this.answer):this.val1=this.val1Bak2},val1(t){const e=this.$app.showAnswer===!1&&this.$app.showAnswerAll===!1;if(t.toUpperCase()===this.answer&&e&&this.inputNextFocus(),t.length!==0){const n=t.length;t.toUpperCase()===this.answer.substr(0,n)?this.$nextTick(()=>{this.backgroundSizeX=this.$refs.inputSpanRef.offsetWidth+32+10+"px"}):this.backgroundSizeX="0"}else this.backgroundSizeX="0"}},computed:{},methods:{isPhone(){var t={versions:function(){var e=navigator.userAgent;return{trident:e.indexOf("Trident")>-1,presto:e.indexOf("Presto")>-1,webKit:e.indexOf("AppleWebKit")>-1,gecko:e.indexOf("Gecko")>-1&&e.indexOf("KHTML")==-1,mobile:!!e.match(/AppleWebKit.*Mobile.*/),ios:!!e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:e.indexOf("Android")>-1||e.indexOf("Linux")>-1,iPhone:e.indexOf("iPhone")>-1,iPad:e.indexOf("iPad")>-1,webApp:e.indexOf("Safari")==-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};return!!(t.versions.mobile||t.versions.ios||t.versions.android||t.versions.iPhone||t.versions.iPad)},onBlurHandle(){console.info("onBlurHandle"),this.isPhone()?(this.$app.showAnswer=!this.$app.showAnswer,this.$nextTick(()=>{this.isFocus=!1})):this.isFocus=!1},onFocusHandle(){console.info("onFocusHandle"),this.isFocus=!0,this.isPhone()&&(console.info("isPhone"),this.$nextTick(()=>{this.$app.showAnswer=!this.$app.showAnswer}))},inputNextFocus(){const t=this.$refs.inputBmRef.$el.getElementsByTagName("input")[0],e=document.getElementsByTagName("input");for(let n=0;n<e.length;n++)if(e[n]===t){const i=n+1;if(i<e.length){e[i+1]&&e[i+1].focus(),this.$nextTick(()=>{e[i].focus()});break}}},inputPreviousFocus(){const t=this.$refs.inputBmRef.$el.getElementsByTagName("input")[0],e=document.getElementsByTagName("input");for(let n=0;n<e.length;n++)if(e[n]===t){const i=n-1;if(i<e.length){e[i]&&e[i].focus();break}}}},created(){},activated(){},mounted(){const t=this.$refs.draggerRef;t.onmousedown=function(){var e=window.event,n=e.clientX;e.offsetY;const i=parseInt(t.style.left);document.onmousemove=function(){var s=window.event,r=s.clientX;s.clientY;var l=r-n;t.style.left=i+l+"px"}},window.onmouseup=function(){document.onmousemove=null}},beforeUnmount(){}},w=()=>{_(t=>({"1c8ae438":t.backgroundSizeX}))},g=f.setup;f.setup=g?(t,e)=>(w(),g(t,e)):w;const O=f,A={style:{position:"absolute"}},P={style:{"font-size":"12px","margin-left":"10px"}};function T(t,e,n,i,s,r){const l=c("Input"),d=c("Icon");return u(),h(x,null,[m(l,{modelValue:s.val1,"onUpdate:modelValue":e[0]||(e[0]=o=>s.val1=o),onOnFocus:r.onFocusHandle,onOnBlur:r.onBlurHandle,ref:"inputBmRef",class:k(["inputBmClass",s.val1.toUpperCase()===n.answer?"md-checkbox-outline":"md-code"]),prefix:s.val1.toUpperCase()===n.answer?"md-checkbox-outline":"md-code",style:p({width:this.answer.length*15+15+30+"px"})},null,8,["modelValue","onOnFocus","onOnBlur","class","prefix","style"]),a("span",{ref:"inputSpanRef",style:{"font-size":"14px",position:"absolute",left:"-10000px"}},b(s.val1),513),B(a("span",A,[a("div",{style:p([{position:"relative",overflow:"hidden"},{width:this.answer.length*15+15+30+"px",left:(this.answer.length*15+15+30)*-1+"px"}])},[a("div",{ref:"draggerRef",onselectstart:"return false;",style:p([{width:this.answer.length*15+15+30+"px",left:0},{"background-color":"#f4f5f5",position:"relative",top:"0","z-index":"1",cursor:"pointer","border-radius":"10px"}])},[a("span",P,[m(d,{type:"md-arrow-round-forward"})])],4)],4)],512),[[F,s.guaguakaVif]])],64)}var I=v(O,[["render",T]]);const C={name:"Tiankong",props:{tiankongData:{type:Object,default(){return{text:"def $input",answer:["def"]}}}},components:{InputBm:I},data(){return{text:this.tiankongData.text,answer:this.tiankongData.answer,textSplit:[]}},watch:{tiankongData(t){this.init()}},computed:{},methods:{init(){this.text=this.tiankongData.text,this.answer=this.tiankongData.answer,this.textSplit=this.text.replace(/\n/g,"<br>").split("$input")}},created(){},activated(){},mounted(){this.init()},beforeUnmount(){}},V=["innerHTML"];function N(t,e,n,i,s,r){const l=c("InputBm");return u(!0),h(x,null,y(s.textSplit,(d,o)=>(u(),h("span",{key:o},[a("span",{innerHTML:s.textSplit[o]},null,8,V),s.answer[o]?(u(),$(l,{key:0,answer:s.answer[o]},null,8,["answer"])):S("",!0)]))),128)}var H=v(C,[["render",N]]);export{H as T};
